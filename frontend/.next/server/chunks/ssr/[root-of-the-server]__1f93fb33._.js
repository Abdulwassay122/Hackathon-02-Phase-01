module.exports=[18622,(a,b,c)=>{b.exports=a.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},42602,(a,b,c)=>{"use strict";b.exports=a.r(18622)},87924,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactJsxRuntime},72131,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].React},19032,a=>{"use strict";a.s(["api",0,{get:async(a,b={})=>{let c=localStorage.getItem("token"),d={"Content-Type":"application/json",...c&&{Authorization:`Bearer ${c}`},...b.headers},e=await fetch(a,{method:"GET",headers:d,...b});return 401===e.status&&(localStorage.removeItem("token"),window.location.href="/"),e},post:async(a,b,c={})=>{let d=localStorage.getItem("token"),e={"Content-Type":"application/json",...d&&{Authorization:`Bearer ${d}`},...c.headers},f=await fetch(a,{method:"POST",headers:e,body:JSON.stringify(b),...c});return 401===f.status&&(localStorage.removeItem("token"),window.location.href="/"),f},put:async(a,b,c={})=>{let d=localStorage.getItem("token"),e={"Content-Type":"application/json",...d&&{Authorization:`Bearer ${d}`},...c.headers},f=await fetch(a,{method:"PUT",headers:e,body:JSON.stringify(b),...c});return 401===f.status&&(localStorage.removeItem("token"),window.location.href="/"),f},delete:async(a,b={})=>{let c=localStorage.getItem("token"),d={"Content-Type":"application/json",...c&&{Authorization:`Bearer ${c}`},...b.headers},e=await fetch(a,{method:"DELETE",headers:d,...b});return 401===e.status&&(localStorage.removeItem("token"),window.location.href="/"),e},patch:async(a,b,c={})=>{let d=localStorage.getItem("token"),e={"Content-Type":"application/json",...d&&{Authorization:`Bearer ${d}`},...c.headers},f=await fetch(a,{method:"PATCH",headers:e,body:JSON.stringify(b),...c});return 401===f.status&&(localStorage.removeItem("token"),window.location.href="/"),f}}])},49846,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(19032);function e(){let[a,e]=(0,c.useState)([]),[f,g]=(0,c.useState)({title:"",description:""}),[h,i]=(0,c.useState)(!0),[j,k]=(0,c.useState)("");(0,c.useEffect)(()=>{l()},[]);let l=async()=>{try{i(!0);let a=await d.api.get("http://localhost:8000/api/tasks");if(a.ok){let b=await a.json();e(b)}else k("Failed to fetch tasks")}catch(a){k("An error occurred while fetching tasks"),console.error(a)}finally{i(!1)}},m=async b=>{b.preventDefault();try{let b=await d.api.post("http://localhost:8000/api/tasks",{title:f.title,description:f.description,completed:!1});if(b.ok){let c=await b.json();e([...a,c]),g({title:"",description:""})}else k("Failed to add task")}catch(a){k("An error occurred while adding task"),console.error(a)}},n=async b=>{try{let c=await d.api.patch(`http://localhost:8000/api/tasks/${b}/complete`,{});if(c.ok){let d=(await c.json()).task;e(a.map(a=>a.id===b?{...a,completed:d.completed}:a))}else k("Failed to update task")}catch(a){k("An error occurred while updating task"),console.error(a)}},o=async b=>{try{(await d.api.delete(`http://localhost:8000/api/tasks/${b}`)).ok?e(a.filter(a=>a.id!==b)):k("Failed to delete task")}catch(a){k("An error occurred while deleting task"),console.error(a)}};return h?(0,b.jsx)("div",{className:"text-center py-4",children:"Loading tasks..."}):(0,b.jsxs)("div",{className:"max-w-4xl mx-auto p-6",children:[j&&(0,b.jsx)("div",{className:"mb-4 bg-red-50 text-red-500 p-3 rounded-md",children:j}),(0,b.jsxs)("form",{onSubmit:m,className:"mb-8 p-4 bg-white rounded-lg shadow",children:[(0,b.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Add New Task"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700",children:"Title"}),(0,b.jsx)("input",{type:"text",id:"title",value:f.title,onChange:a=>g({...f,title:a.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",required:!0})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:"Description"}),(0,b.jsx)("input",{type:"text",id:"description",value:f.description,onChange:a=>g({...f,description:a.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]})]}),(0,b.jsx)("div",{className:"mt-4",children:(0,b.jsx)("button",{type:"submit",className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Add Task"})})]}),(0,b.jsx)("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:(0,b.jsx)("ul",{className:"divide-y divide-gray-200",children:a.map(a=>(0,b.jsx)("li",{children:(0,b.jsxs)("div",{className:"px-4 py-4 sm:px-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("p",{className:`text-sm font-medium ${a.completed?"line-through text-gray-500":"text-indigo-600"}`,children:a.title}),(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)("button",{onClick:()=>n(a.id),className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${a.completed?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:a.completed?"Completed":"Pending"}),(0,b.jsx)("button",{onClick:()=>o(a.id),className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:"Delete"})]})]}),a.description&&(0,b.jsx)("div",{className:"mt-2",children:(0,b.jsx)("p",{className:"text-sm text-gray-500",children:a.description})}),(0,b.jsxs)("div",{className:"mt-2 flex justify-between text-xs text-gray-500",children:[(0,b.jsxs)("span",{children:["Created: ",new Date(a.created_at).toLocaleDateString()]}),(0,b.jsxs)("span",{children:["Updated: ",new Date(a.updated_at).toLocaleDateString()]})]})]})},a.id))})})]})}function f(){return(0,b.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,b.jsxs)("div",{className:"container mx-auto px-4 max-w-6xl",children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-gray-800 mb-8 text-center",children:"Todo Dashboard"}),(0,b.jsx)(e,{})]})})}a.s(["default",()=>f],49846)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__1f93fb33._.js.map