(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,9165,e=>{"use strict";e.s(["api",0,{get:async(e,t={})=>{let a=localStorage.getItem("token"),o={"Content-Type":"application/json",...a&&{Authorization:`Bearer ${a}`},...t.headers},s=await fetch(e,{method:"GET",headers:o,...t});return 401===s.status&&(localStorage.removeItem("token"),window.location.href="/"),s},post:async(e,t,a={})=>{let o=localStorage.getItem("token"),s={"Content-Type":"application/json",...o&&{Authorization:`Bearer ${o}`},...a.headers},i=await fetch(e,{method:"POST",headers:s,body:JSON.stringify(t),...a});return 401===i.status&&(localStorage.removeItem("token"),window.location.href="/"),i},put:async(e,t,a={})=>{let o=localStorage.getItem("token"),s={"Content-Type":"application/json",...o&&{Authorization:`Bearer ${o}`},...a.headers},i=await fetch(e,{method:"PUT",headers:s,body:JSON.stringify(t),...a});return 401===i.status&&(localStorage.removeItem("token"),window.location.href="/"),i},delete:async(e,t={})=>{let a=localStorage.getItem("token"),o={"Content-Type":"application/json",...a&&{Authorization:`Bearer ${a}`},...t.headers},s=await fetch(e,{method:"DELETE",headers:o,...t});return 401===s.status&&(localStorage.removeItem("token"),window.location.href="/"),s},patch:async(e,t,a={})=>{let o=localStorage.getItem("token"),s={"Content-Type":"application/json",...o&&{Authorization:`Bearer ${o}`},...a.headers},i=await fetch(e,{method:"PATCH",headers:s,body:JSON.stringify(t),...a});return 401===i.status&&(localStorage.removeItem("token"),window.location.href="/"),i}}])},30257,e=>{"use strict";var t=e.i(43476),a=e.i(71645),o=e.i(9165);function s(){let[e,s]=(0,a.useState)([]),[i,r]=(0,a.useState)({title:"",description:""}),[n,l]=(0,a.useState)(!0),[d,c]=(0,a.useState)("");(0,a.useEffect)(()=>{m()},[]);let m=async()=>{try{l(!0);let e=await o.api.get("http://localhost:8000/api/tasks");if(e.ok){let t=await e.json();s(t)}else c("Failed to fetch tasks")}catch(e){c("An error occurred while fetching tasks"),console.error(e)}finally{l(!1)}},h=async t=>{t.preventDefault();try{let t=await o.api.post("http://localhost:8000/api/tasks",{title:i.title,description:i.description,completed:!1});if(t.ok){let a=await t.json();s([...e,a]),r({title:"",description:""})}else c("Failed to add task")}catch(e){c("An error occurred while adding task"),console.error(e)}},p=async t=>{try{let a=await o.api.patch(`http://localhost:8000/api/tasks/${t}/complete`,{});if(a.ok){let o=(await a.json()).task;s(e.map(e=>e.id===t?{...e,completed:o.completed}:e))}else c("Failed to update task")}catch(e){c("An error occurred while updating task"),console.error(e)}},u=async t=>{try{(await o.api.delete(`http://localhost:8000/api/tasks/${t}`)).ok?s(e.filter(e=>e.id!==t)):c("Failed to delete task")}catch(e){c("An error occurred while deleting task"),console.error(e)}};return n?(0,t.jsx)("div",{className:"text-center py-4",children:"Loading tasks..."}):(0,t.jsxs)("div",{className:"max-w-4xl mx-auto p-6",children:[d&&(0,t.jsx)("div",{className:"mb-4 bg-red-50 text-red-500 p-3 rounded-md",children:d}),(0,t.jsxs)("form",{onSubmit:h,className:"mb-8 p-4 bg-white rounded-lg shadow",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Add New Task"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700",children:"Title"}),(0,t.jsx)("input",{type:"text",id:"title",value:i.title,onChange:e=>r({...i,title:e.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:"Description"}),(0,t.jsx)("input",{type:"text",id:"description",value:i.description,onChange:e=>r({...i,description:e.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]})]}),(0,t.jsx)("div",{className:"mt-4",children:(0,t.jsx)("button",{type:"submit",className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Add Task"})})]}),(0,t.jsx)("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:(0,t.jsx)("ul",{className:"divide-y divide-gray-200",children:e.map(e=>(0,t.jsx)("li",{children:(0,t.jsxs)("div",{className:"px-4 py-4 sm:px-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("p",{className:`text-sm font-medium ${e.completed?"line-through text-gray-500":"text-indigo-600"}`,children:e.title}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("button",{onClick:()=>p(e.id),className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${e.completed?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:e.completed?"Completed":"Pending"}),(0,t.jsx)("button",{onClick:()=>u(e.id),className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:"Delete"})]})]}),e.description&&(0,t.jsx)("div",{className:"mt-2",children:(0,t.jsx)("p",{className:"text-sm text-gray-500",children:e.description})}),(0,t.jsxs)("div",{className:"mt-2 flex justify-between text-xs text-gray-500",children:[(0,t.jsxs)("span",{children:["Created: ",new Date(e.created_at).toLocaleDateString()]}),(0,t.jsxs)("span",{children:["Updated: ",new Date(e.updated_at).toLocaleDateString()]})]})]})},e.id))})})]})}function i(){return(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,t.jsxs)("div",{className:"container mx-auto px-4 max-w-6xl",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-800 mb-8 text-center",children:"Todo Dashboard"}),(0,t.jsx)(s,{})]})})}e.s(["default",()=>i],30257)}]);